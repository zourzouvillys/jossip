pluginManagement {

  plugins {
    id 'org.asciidoctor.jvm.convert' version '3.3.2'
    id 'com.diffplug.eclipse.apt' version '3.31.0' 
    id 'com.diffplug.eclipse.excludebuildfolder' version '3.40.0'
    id 'com.diffplug.eclipse.resourcefilters' version '3.31.0'  
    id 'com.github.spotbugs' version '5.0.6'
    id 'com.google.protobuf' version '0.8.17'
    id "com.github.johnrengelman.shadow" version "7.1.2"
    id "com.github.kt3k.coveralls" version "2.12.0"
    id "com.google.osdetector" version "1.6.2"
    id "com.google.protobuf" version "0.8.17"
    id "me.champeau.gradle.japicmp" version "0.2.5"
    id "me.champeau.gradle.jmh" version "0.5.2"
    id "net.ltgt.errorprone" version "1.3.0"
  }
  
  repositories {
    gradlePluginPortal()
    google()
  }
  
}


rootProject.name = 'jossip'

include('sip-message')
include('sip-parser')

include('sip-channels')
include('sip-channels-netty')
include('sip-channels-proxy')

include('dns-resolver')

include('docs')
include('bom')

// ---

dependencyResolutionManagement {
  defaultLibrariesExtensionName.set('deps')
}

dependencyResolutionManagement {

  versionCatalogs {
    libs {
      from(files("gradle/libs.versions.toml"))
    }
    testLibs {
      from(files('gradle/test-libs.versions.toml'))
    }        
  }

  repositories {
    
    google() {
      content {
        includeGroupByRegex 'com\\.google\\..+'
      }
    }
    
    mavenCentral() {
    }
    
  }

  // do not allow project specific repos.      
  repositoriesMode.set(RepositoriesMode.FAIL_ON_PROJECT_REPOS)
    
}

