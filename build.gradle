
plugins {
  id 'net.ltgt.apt-eclipse' version '0.21' apply false
}

apply plugin: 'eclipse'
apply plugin: 'maven'

allprojects { project ->

  project.group = 'io.zrz.jossip'
  project.version = version = project.hasProperty('versionId') ? project.property('versionId') : 'master'

  project.repositories {
    mavenCentral()
  }

  project.apply from: "${rootDir}/gradle/eclipse.gradle"

}

task configureBuildship {
  dependsOn gradle.includedBuilds*.task(':configureBuildship')
}

eclipse {
  synchronizationTasks configureBuildship
}

subprojects {
  apply plugin: "maven-publish"
  apply plugin: "java-library"
  publishing {
    publications {
      maven(MavenPublication) {
        from(components.java)
        pom {
        }
      }
    }
  }
}
